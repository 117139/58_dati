(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/dati/dati"],{"0c14":function(e,t,n){"use strict";n.r(t);var o=n("2114"),a=n("bc23");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("54d2");var s,r=n("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"69cb129c",null,!1,o["a"],s);t["default"]=l.exports},2114:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.datas.length>0?e.__map(e.datas,(function(t,n){var o=e.__get_orig(t),a=t.problem.problem_img.length>0?e.__map(t.problem.problem_img,(function(t,n){var o=e.__get_orig(t),a=e.getimg(t),i=e.getimg(t);return{$orig:o,m0:a,m1:i}})):null,i=1==t.type?e.__map(t.answer,(function(t,n){var o=e.__get_orig(t),a=t.answer.img.length>0?e.getimg(t.answer.img[0]):null,i=t.answer.img.length>0?e.getimg(t.answer.img[0]):null;return{$orig:o,m2:a,m3:i}})):null,s=2==t.type?e.__map(t.answer,(function(n,o){var a=e.__get_orig(n),i=e.getduoxuan(t,n.option),s=n.answer.img.length>0?e.getimg(n.answer.img[0]):null,r=n.answer.img.length>0?e.getimg(n.answer.img[0]):null;return{$orig:a,m4:i,m5:s,m6:r}})):null,r=4==t.type?e.__map(t.answer,(function(t,n){var o=e.__get_orig(t),a=t.answer.img.length>0?e.getimg(t.answer.img[0]):null,i=t.answer.img.length>0?e.getimg(t.answer.img[0]):null;return{$orig:o,m7:a,m8:i}})):null;return{$orig:o,l0:a,l1:i,l2:s,l3:r}})):null);e.$mp.data=Object.assign({},{$root:{l4:n}})},i=[]},"4b8e":function(e,t,n){"use strict";(function(e){n("ddea");o(n("66fd"));var t=o(n("0c14"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"54d2":function(e,t,n){"use strict";var o=n("6127"),a=n.n(o);a.a},6127:function(e,t,n){},bc23:function(e,t,n){"use strict";n.r(t);var o=n("de77"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},de77:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=r(n("66fd")),i=r(n("1cc4")),s=n("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{id:"",title:"",explain:"",addition_explain:"",datas:[],isTx:"",dt_time:[],guding:[]}},onLoad:function(e){o=this,this.id=e.id,this.getdata()},onShow:function(){console.log(this.new_problem)},computed:u({},(0,s.mapState)(["hasLogin","new_problem","loginDatas"])),watch:{hasLogin:function(e,t){console.log(e),1==e&&(this.btn_kg=0,this.getdata())}},methods:u(u({},(0,s.mapMutations)(["setnew_problem"])),{},{set_op:function(e){console.log(e.detail.value),console.log(e.currentTarget.dataset.idx);var t=e.detail.value,n=e.currentTarget.dataset.idx;a.default.set(o.guding[n],"option",o.guding[n].answer[t].option),a.default.set(o.guding[n],"option_text",o.guding[n].answer[t].title)},get_hd:function(e,t){for(var n=[],o=e;o<=t;o++)n.push(o);return n},sliderChange:function(e){var t=this;console.log(e.detail.value);var n=e.currentTarget.dataset.idx;a.default.set(t.datas[n],"jieguo",e.detail.value),console.log(t.datas),a.default.set(t.datas[n],"jleft1",e.detail.value);var o=e.detail.value,i=t.datas[n],s=o-i.answer[0].min_num;console.log(s);var r=i.answer[0].max_num-i.answer[0].min_num;console.log(r);var l=s/r;console.log(l),l*=100,l+="%",a.default.set(t.datas[n],"jleft",l)},danxuan:function(e,t){a.default.set(e,"jieguo",t.currentTarget.dataset.idx),console.log(this.datas)},duoxuan:function(e,t){var n=e.jieguo||[],o=t.currentTarget.dataset,i=n.indexOf(o.idx+"");-1!=i?n.splice(i,1):n.push(o.idx+""),a.default.set(e,"jieguo",n),console.log(this.datas)},getduoxuan:function(e,t){if(e.jieguo){var n=e.jieguo;console.log(n),console.log(t);t=t+"";var o=n.indexOf(t);return console.log(o),-1!=o}return!1},tiankong_fuc:function(e){var t=this;console.log(e.currentTarget.dataset);var n=e.currentTarget.dataset;console.log(e.detail.value),a.default.set(t.datas[n.index],"jieguo",e.detail.value)},px_up:function(e,t){var n=e.answer,o=JSON.parse(JSON.stringify(n[t]));console.log("px_up");var i=1*t-1;a.default.set(e.answer,t,n[t-1]),a.default.set(e.answer,i,o);for(var s=[],r=0;r<e.answer.length;r++)s.push(e.answer[r].option);a.default.set(e,"jieguo",s)},px_down:function(e,t){var n=e.answer,o=JSON.parse(JSON.stringify(n[t]));console.log("px_down");var i=1*t+1;a.default.set(e.answer,t,n[t+1]),a.default.set(e.answer,i,o);for(var s=[],r=0;r<e.answer.length;r++)s.push(e.answer[r].option);a.default.set(e,"jieguo",s),console.log(e)},sub:function(){var t=this;if(t.hasLogin){for(var n=[],o=0;o<t.datas.length;o++){if(!t.datas[o].jieguo)if(4==t.datas[o].type){for(var s=[],r=0;r<t.datas[o].answer.length;r++)s.push(t.datas[o].answer[r].option);a.default.set(t.datas[o],"jieguo",s)}else{if(5!=t.datas[o].type)return void e.showToast({icon:"none",title:"请先写填写问题"});a.default.set(t.datas[o],"jieguo",t.datas[o].answer[0].min_num)}2==t.datas[o].type||4==t.datas[o].type?n.push({id:t.datas[o].id,option:t.datas[o].jieguo.join(",")}):n.push({id:t.datas[o].id,option:t.datas[o].jieguo})}console.log(t.datas),console.log(n);var l={token:t.loginDatas.userToken,answer:JSON.stringify(n),id:t.id,fixation:JSON.stringify(t.guding)},u="/subResearch";e.showModal({title:"请仔细确认，提交后不可修改",success:function(n){n.confirm?(console.log("用户点击确定"),e.showLoading({title:"正在提交"}),i.default.P_post(u,l).then((function(n){if(t.btn_kg=0,console.log(n),1==n.code){var o=n.data;console.log(typeof o),"string"==typeof o&&(o=JSON.parse(o)),e.showToast({icon:"none",title:"提交成功"}),setTimeout((function(){e.navigateBack({delta:1})}),1e3),console.log(o)}else n.msg?e.showToast({icon:"none",title:n.msg}):e.showToast({icon:"none",title:"操作失败"})})).catch((function(n){t.btn_kg=0,console.log(n),e.showToast({icon:"none",title:"获取数据失败"})}))):n.cancel&&console.log("用户点击取消")}})}else e.navigateTo({url:"/pages/login/login"})},getdata:function(){var t=this,n={token:t.loginDatas.userToken||"",id:t.id},o="/researchDetails";e.showLoading({title:"正在获取数据"}),i.default.P_get(o,n).then((function(n){if(t.btn_kg=0,console.log(n),1==n.code){var o=n.data;console.log(typeof o),"string"==typeof o&&(o=JSON.parse(o)),t.title=o.title,t.explain=o.explain,t.addition_explain=o.addition_explain,t.datas=o.problem,t.dt_time=o.dtTimeData,t.guding=o.fixation,t.isTx=o.isTx,1==o.isTx&&e.showToast({icon:"none",title:"当前不在调研时间段"}),console.log(o)}else n.msg?e.showToast({icon:"none",title:n.msg}):e.showToast({icon:"none",title:"操作失败"})})).catch((function(n){t.btn_kg=0,console.log(n),e.showToast({icon:"none",title:"获取数据失败"})}))},jump:function(e){i.default.jump(e)},getimg:function(e){return i.default.getimg(e)},pveimg:function(e){i.default.pveimg(e)}})};t.default=c}).call(this,n("543d")["default"])}},[["4b8e","common/runtime","common/vendor"]]]);