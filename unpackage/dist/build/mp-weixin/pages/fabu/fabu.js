(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/fabu/fabu"],{"08b0":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.datas,(function(e,i){var n=t.__get_orig(e),o=e.problem.img&&e.problem.img.length>0?t.__map(e.problem.img,(function(e,i){var n=t.__get_orig(e),o=t.getimg(e),a=t.getimg(e);return{$orig:n,m0:o,m1:a}})):null,a=1==e.type?t.__map(e.answer,(function(e,i){var n=t.__get_orig(e),o=e.img.length>0?t.getimg(e.img[0]):null,a=e.img.length>0?t.getimg(e.img[0]):null;return{$orig:n,m2:o,m3:a}})):null,l=2==e.type?t.__map(e.answer,(function(e,i){var n=t.__get_orig(e),o=e.img.length>0?t.getimg(e.img[0]):null,a=e.img.length>0?t.getimg(e.img[0]):null;return{$orig:n,m4:o,m5:a}})):null,r=4==e.type?t.__map(e.answer,(function(e,i){var n=t.__get_orig(e),o=e.img.length>0?t.getimg(e.img[0]):null,a=e.img.length>0?t.getimg(e.img[0]):null;return{$orig:n,m6:o,m7:a}})):null;return{$orig:n,l0:o,l1:a,l2:l,l3:r}})));t.$mp.data=Object.assign({},{$root:{l4:i}})},a=[]},"135f":function(t,e,i){"use strict";var n=i("939c"),o=i.n(n);o.a},"442e":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=r(i("66fd")),a=r(i("1cc4")),l=i("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={data:function(){return{id:"",qiyong:[{title:"不启用"},{title:"启用"}],qiyong_index:0,dy_title:"",dy_explain:"",dy_addition_explain:"",datas:[],guding:[{type:"1",option:"",answer:[{img:[],title:"男",option:"A"},{img:[],title:"女",option:"B"}],problem:{img:[],title:"性别"}},{type:"3",option:"",problem:{title:"年龄"}},{type:"1",option:"",answer:[{img:[],title:"是",option:"A"},{img:[],title:"否",option:"B"}],problem:{img:[],title:"是否独生"}},{type:"1",option:"",answer:[{img:[],title:"农村",option:"A"},{img:[],title:"乡镇",option:"B"},{img:[],title:"城市",option:"C"}],problem:{img:[],title:"生源地"}},{type:"3",option:"",problem:{title:"专业"}},{type:"3",option:"",problem:{title:"年级"}},{type:"3",option:"",problem:{title:"职业"}},{type:"1",option:"",answer:[{img:[],title:"小学及以下",option:"A"},{img:[],title:"中学（含中职）",option:"B"},{img:[],title:"高中（含职高）",option:"C"},{img:[],title:"大学（含大专）",option:"D"},{img:[],title:"研究生及以上",option:"E"}],problem:{img:[],title:"受教育程度"}},{type:"1",option:"",answer:[{img:[],title:"小学及以下",option:"A"},{img:[],title:"中学（含中职）",option:"B"},{img:[],title:"高中（含职高）",option:"C"},{img:[],title:"大学（含大专）",option:"D"},{img:[],title:"研究生及以上",option:"E"}],problem:{img:[],title:"父亲受教育程度"}},{type:"1",option:"",answer:[{img:[],title:"小学及以下",option:"A"},{img:[],title:"中学（含中职）",option:"B"},{img:[],title:"高中（含职高）",option:"C"},{img:[],title:"大学（含大专）",option:"D"},{img:[],title:"研究生及以上",option:"E"}],problem:{img:[],title:"母亲受教育程度"}},{type:"3",option:"",problem:{title:"父亲职业"}},{type:"3",option:"",problem:{title:"母亲职业"}}],datas_ceshi:[{problem:{title:"在紧急情况下为伤员止血时，须先用压迫法止血后再根据出血情况改用其他止血法。",img:[]},type:1,answer:[{title:"风云风云风云风云",img:["../../static/images/danxuan.png"]},{title:"风云风云风云风云",img:["../../static/images/danxuan.png"]},{title:"风云风云风云风云",img:["../../static/images/danxuan.png"]},{title:"风云风云风云风云",img:["../../static/images/danxuan.png"]}]},{problem:{title:"在紧急情况下为伤员止血时，须先用压迫法止血后再根据出血情况改用其他止血法。",img:[]},type:2,answer:[{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]}]},{problem:{title:"在紧急情况下为伤员止血时，须先用压迫法止血后再根据出血情况改用其他止血法。",img:[]},type:3},{problem:{title:"在紧急情况下为伤员止血时，须先用压迫法止血后再根据出血情况改用其他止血法。",img:[]},type:4,answer:[{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]},{title:"风云风云风云风云",img:[]}]},{problem:{title:"在紧急情况下为伤员止血时，须先用压迫法止血后再根据出血情况改用其他止血法。",img:[]},type:5,answer:{min_num:"0",min_text:"不好",max_num:"100",max_text:"非常好",step_size:"1"}}]}},onLoad:function(t){n=this,this.guding=this.loginDatas.research_info,t.id&&(n.id=t.id,n.getcg())},mounted:function(){},onUnload:function(){this.setnew_problem(""),this.edit_problem(""),this.clearls_pro("")},onShow:function(){if(console.log(this.new_problem),this.new_problem.problem&&(this.datas.push(this.new_problem),this.setnew_problem("")),n.bj_prodata&&n.bj_prodata.datas){var t=JSON.parse(JSON.stringify(this.bj_prodata.datas));console.log("newdata"),console.log(this.bj_prodata),console.log(t);var e=this.bj_prodata.idx;o.default.set(n.datas,e,t),console.log(n.datas),this.edit_problem("")}},computed:g({},(0,l.mapState)(["new_problem","bj_prodata","loginDatas"])),methods:g(g({},(0,l.mapMutations)(["setnew_problem","edit_problem","setls_prodata","setls_pro_yh","set_h5_uid"])),{},{set_op1:function(t){t.detail.value;this.qiyong_index=t.detail.value},set_op:function(t){console.log(t.detail.value),console.log(t.currentTarget.dataset.idx);var e=t.detail.value,i=t.currentTarget.dataset.idx;o.default.set(n.guding[i],"option",n.guding[i].answer[e].option),o.default.set(n.guding[i],"option_text",n.guding[i].answer[e].title)},addcg:function(){var e={dy_title:n.dy_title,dy_explain:n.dy_explain,dy_addition_explain:n.dy_addition_explain,datas:n.datas},i={token:n.loginDatas.userToken||"",data:JSON.stringify(e)},o="/user/draft/add";n.id&&(i={id:n.id,token:n.loginDatas.userToken||"",data:JSON.stringify(e)},o="/user/draft/modify"),a.default.P_post(o,i).then((function(e){if(n.btn_kg=0,console.log(e),1==e.code){var i=e.data;console.log(typeof i),"string"==typeof i&&(i=JSON.parse(i)),t.showToast({icon:"none",title:"操作成功"})}else e.msg?t.showToast({icon:"none",title:e.msg}):t.showToast({icon:"none",title:"操作失败"})})).catch((function(e){n.btn_kg=0,console.log(e),t.showToast({icon:"none",title:"获取数据失败"})}))},getcg:function(){var e={token:n.loginDatas.userToken||"",id:n.id},i="/user/draft/look";t.showLoading({title:"正在获取数据"}),a.default.P_get(i,e).then((function(e){if(n.btn_kg=0,console.log(e),1==e.code){var i=e.data;console.log(typeof i),"string"==typeof i&&(i=JSON.parse(i)),n.dy_title=i.data.dy_title,n.dy_explain=i.data.dy_explain,n.dy_addition_explain=i.data.dy_addition_explain,n.datas=i.data.datas,console.log(i)}else e.msg?t.showToast({icon:"none",title:e.msg}):t.showToast({icon:"none",title:"操作失败"})})).catch((function(e){n.btn_kg=0,console.log(e),t.showToast({icon:"none",title:"获取数据失败"})}))},getleft_dian:function(t){var e=t.jieguo-t.answer.min_num,i=t.answer.max_num-t.answer.min_num,n=1*e/i*1;console.log(n)},get_hd:function(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i},sliderChange:function(t){var e=this;console.log(t);var i=t.currentTarget.dataset.idx;o.default.set(e.datas[i],"jleft1",t.detail.value);var n=t.detail.value,a=e.datas[i],l=n-a.answer.min_num;console.log(l);var r=a.answer.max_num-a.answer.min_num;console.log(r);var s=l/r;console.log(s),s*=100,s+="%",o.default.set(e.datas[i],"jleft",s),console.log(e.datas[i])},px_up:function(t,e){if(0!=e){var i=this,n=JSON.parse(JSON.stringify(t));console.log("px_up");var a=1*e-1;o.default.set(i.datas,e,i.datas[e-1]),o.default.set(i.datas,a,n)}},px_down:function(t,e){if(e!=this.datas.length-1){var i=this,n=JSON.parse(JSON.stringify(t));console.log("px_down");var a=1*e+1;o.default.set(i.datas,e,i.datas[e+1]),o.default.set(i.datas,a,n)}},pro_edit:function(e,i){var n=this;console.log(e.type);var o={idx:i,datas:e};n.edit_problem(o),3==e.type?t.navigateTo({url:"/pages/fabu_tiankong/fabu_tiankong?type=3"}):5==e.type?t.navigateTo({url:"/pages/fabu_huadong/fabu_huadong?type=5"}):t.navigateTo({url:"/pages/fabu_duoxuan/fabu_duoxuan?type="+e.type})},pro_del:function(e){var i=this;t.showModal({title:"提示",content:"是否确认删除此题？",success:function(n){n.confirm?(console.log("用户点击确定"),t.showToast({icon:"none",title:"操作成功"}),i.datas.splice(e,1)):n.cancel&&console.log("用户点击取消")}})},sub:function(){var e=this;if(console.log(this.datas),e.dy_title)if(0!=e.datas.length){var i={dy_title:e.dy_title,dy_explain:e.dy_explain,dy_addition_explain:e.dy_addition_explain,datas:e.datas};this.setls_prodata(i),t.showModal({title:"请仔细确认发布内容，发布后不可修改",success:function(i){i.confirm?(console.log("用户点击确定"),t.navigateTo({url:"../fabu2/fabu2?id="+e.id+"&qiyong_index="+e.qiyong_index})):i.cancel&&console.log("用户点击取消")}})}else t.showToast({icon:"none",title:"请添加问题"});else t.showToast({icon:"none",title:"请输入调研标题"})},jump:function(t){a.default.jump(t)},getimg:function(t){return a.default.getimg(t)},pveimg:function(t){a.default.pveimg(t)}})};e.default=u}).call(this,i("543d")["default"])},"83be":function(t,e,i){"use strict";(function(t){i("ddea");n(i("66fd"));var e=n(i("a140"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"939c":function(t,e,i){},a140:function(t,e,i){"use strict";i.r(e);var n=i("08b0"),o=i("eff4");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("135f");var l,r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"680baa26",null,!1,n["a"],l);e["default"]=s.exports},eff4:function(t,e,i){"use strict";i.r(e);var n=i("442e"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a}},[["83be","common/runtime","common/vendor"]]]);